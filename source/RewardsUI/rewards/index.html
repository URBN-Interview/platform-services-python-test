{% load static %}
<html>
<head>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
    <h1>Welcome to the Rewards Dashboard</h1>
    <div>
        <h2>Reward Tiers</h2>
        <table border="3" align="center">
            <tr>
                <th>Rewards Tier<th>
                <th>Reward Points</th>
                <th>Rewards Tier Name</th>
            </tr>
            {% for reward in rewards_data %}
                <tr>
                    <td>{{ reward.tier }}<td>
                    <td>{{ reward.points }}</td>
                    <td>{{ reward.rewardName }}</td>
                </tr>
            {% endfor %}
        </table>
        <hr>
    </div>
    <div>
        <h2>Add orders</h2>
        <form action="." method="POST">
            {% csrf_token %}
            <label>Enter email address: </label>
            <input type="text" id="email_address" name="email_address" value="{{email_address}}"/><br>
            <label>Enter order total: </label>
            <input type="text"id="order_total" name="order_total" value="{{order_total}}"/><br>
            <input type="submit" value="Submit Order"/>
            <br/>
        </form>
        {{add_order_error}}
        <hr>
    </div>
    <div>
        <h2>User Rewards</h2>
        <form action="." method="GET">
            <label>Email address: </label>
            <input type="text" id="email_address" name="email_address" value="{{email_address}}"/>
            <input type="submit" value="Search"/>
        </form>
        {{search_customer_error}}
        <br/>
        <table border="3" align="center">
            <thead>
            <tr>
                <th>Email Address</th>
                <th>Reward Points</th>
                <th>Reward Tier</th>
                <th>Reward Tier Name</th>
                <th>Next Reward Tier</th>
                <th>Next Reward Tier Name</th>
                <th>Next Reward Tier Progress</th>
            </tr>
            </thead>
            <tbody>
                {% for customer in customer_reward_info %}
                    <tr>
                        <td>{{ customer.email }}</td>
                        <td>{{ customer.points }}</td>
                        <td>{{ customer.rewardTier }}</td>
                        <td>{{ customer.rewardTierName }}</td>
                        <td>{{ customer.nextRewardTier }}</td>
                        <td>{{ customer.nextRewardTierName }}</td>
                        <td>{{ customer.nextRewardTierProgress }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>