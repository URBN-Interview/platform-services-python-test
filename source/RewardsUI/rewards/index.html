<html>
<head>
    <title>Rewards Dashboard</title>

    <!--BEG: Load Django static tag-->
    {% load staticfiles %}
    <!--END: Load Django static tag-->
    <script src="{% static 'js/rewards.js' %}"></script>

    <link rel="stylesheet" href="{% static 'css/rewards.css' %}">
</head>
<body onload="getClientRewards('');">
    <div class="divPage width100 textAlignCenter">
        <div class="divSectionHeader width100">
            <div><img src="{% static 'images/urbn.svg' %}" title="URBN Rewards Dashboard" class="imgHeader"></div>
            <div><h2 class="marginTop5px">Welcome to the Rewards Dashboard</h2></div>
        </div>
        <div class="marginTop20px">
            <input id="searchEmail" name="searchEmail" class="inputSearchEmail" placeholder="search@email.com" title="Search client rewards by email" />
            <input type="button" class="buttonSearch" onclick="getClientRewards(document.getElementById('searchEmail').value);" value="Search" title="Search client rewards by email"/>
            <button id="divAddButton" class="accordion" onclick="adjustAddPanel();" title="Add client rewards"></button>
        </div>
        <div id="divAddPanel" class="panel">
            <hr class="hrAddPanel">
            <input id="email" required name="email" class="inputSearchEmail" placeholder="email@address.com" title="Email address for client rewards" />
            <input id="amount" required name="amount" class="inputSearchEmail" placeholder="100.10" title="Amount to add for client rewards" />
            <input id="buttonAddRewards" type="button" class="buttonAddRewards" onclick="submitForm();" value="Add Client Rewards"/>
            <div id="divAddRewardsIndicator" class="loaderAddRewardsIndicator" style="display:none;"></div>
            <hr class="hrAddPanel">
        </div>
        <div class="width100 marginTop20px positionRelative">
            <div id="divClientRewardsIndicator" class="loader marginAuto"></div>
            <span class="positionAbsolute centerElement width100 height100">
                <div id="divClientRewardsErrorMessage" class="marginAuto" style="display:none;">Client data could not be found.  Please try again later.</div>
                <table id="tblClientRewards" class="textAlignCenter" align="center" style="display:none;">
                    <thead>
                        <tr>
                            <th>Email Address</th>
                            <th>Reward Points</th>
                            <th>Reward Tier</th>
                            <th>Reward Tier Name</th>
                            <th>Next Reward Tier</th>
                            <th>Next Reward Tier Name</th>
                            <th><span title="Amount until next reward tier">Next Reward Tier Progress</span>&nbsp;&nbsp;
                                <span class="tooltip">
                                    &#9432;
                                    <span class="tooltiptext">
                                        <div>
                                            <h2>Reward Tiers</h2>
                                            <div class="displayTable">
                                                <div class="displayTableRow">
                                                    <div class="displayTableCell">Rewards Tier&nbsp;&nbsp;</div>
                                                    <div class="displayTableCell">Reward Points&nbsp;&nbsp;</div>
                                                    <div class="displayTableCell">Rewards Tier Name</div>
                                                </div>
                                                {% for reward in rewards_data %}
                                                <div class="displayTableRow">
                                                    <div class="displayTableCell">{{ reward.tier }}</div>
                                                    <div class="displayTableCell">{{ reward.points }}</div>
                                                    <div class="displayTableCell">{{ reward.rewardName }}</div>
                                                </div>
                                                {% endfor %}
                                            </div>
                                        </div>
                                    </span>
                                </span>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </span>
        </div>
    </div>
    <div id="snackbarSuccess">Success!</div>
    <div id="snackbarError">Error!</div>
    <div id="snackbarRequiredInformation">Please fill in both email and amount when adding client rewards!</div>
</body>
</html>
